<section class="attendance-section">
    <div class="part1">
        <div class="row">
            <div class="card">
                <div class="card-in" id="card1">
                    <div class="at-content">
                        <p>Days</p>
                        <p>Lorem ipsum</p>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-in" id="card2">
                    <div class="at-content">
                        <p>Late</p>
                        <p>Lorem ipsum </p>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-in" id="card3">
                    <div class="at-content">
                        <p>Absent</p>
                        <p>Lorem ipsum </p>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-in" id="card4">
                    <div class="at-content">
                        <p>Half Days</p>
                        <p>Lorem ipsum </p>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-in" id="card5">
                    <div class="at-content">
                        <p>Total office</p>
                        <p>Lorem ipsum </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="part2">
        <div class="select-dropdown">
            <select>
                <option value="Custom">Today</option>
                <option value="Custom">Yesterday</option>
                <option value="Custom">Custom</option>

            </select>
        </div>
    </div>

    <div class="part3">
        <table class="tab">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Entry time</th>
                    <th>Exit time</th>
                    <th>Break time</th>
                    <th>Working hours</th>
                    <th>Other Details</th>
                </tr>
            </thead>
            <tbody>

                <% for(let i=0; i<(checkdata.length); i++) {%>
                    <tr>
                        <td>
                            <%= checkdata[i].time.toJSON('yyyy-mm-dd').slice(0,10) %>
                        </td>


                        <td>

                            <p id="entry_time">
                                <%= checkdata[i].time.toJSON('HH:MM:SS').slice(11,18) %>

                            </p>
                        </td>
                        <td>
                            <p id="exit_time">
                                <%if (checkdata.length!=++i) {%>
                                    <%= checkdata[i].time.toJSON('HH:MM:SS').slice(11,18) %>

                                        <%}else { %>
                                            <p> - </p>
                                            <% } %>
                            </p>
                        </td>
                        <td>1:00</td>
                        <td>
                            <P id="GFG">
                                
                            </p>
                        </td>
                        <td></td>

                    </tr>

                    <% } %>
            </tbody>
        </table>
    </div>

    <div class="part4">
        <div class="row-page">
            <div class="m_t_b">
                <p>Show all entries</p>
            </div>
            <div>
                <a href="#">First</a>
                <a href="#">Previous</a>
                <a href="#" id="pageno">1</a>
                <a href="#">Next</a>
                <a href="#">Last</a>
            </div>

        </div>
    </div>
    
    <script>
    //    show();
    //     async function show(){

    //     const result = await fetch(`http://localhost:5000/attendance`);
    //     const data = await result.json();
    //     console.log("data is"+data);
    //     for(var i=0;i<data.length;i++)
    //     {
        var entry_time = document.getElementById('entry_time').innerText;
        var exit_time = document.getElementById('exit_time').innerText;
        // 01:03:3
        //    0123456
        // diffrence_time("08:31:12", "18:11:10");

        diffrence_time(entry_time, exit_time);

        
        function diffrence_time(entry_time, exit_time) {


            var h1, h2, m1, m2, s1, s2;
            h1 = entry_time.slice(0, 2);
            h2 = exit_time.slice(0, 2);
            m1 = entry_time.slice(3, 5);
            m2 = exit_time.slice(3, 5);
            s1 = entry_time.slice(6);
            s2 = exit_time.slice(6);
            // console.log(entry_time);
            // console.log(exit_time);
            // console.log(h1, h2, m1, m2, s1, s2);

            var h = h2 - h1;
            var m = m2 - m1;
            var s = s2 - s1;
            var diff = `${h}:${m}:${s}`;
            var totalsec = (h - 1) * 60 * 60 + m * 60 + s;
            console.log(totalsec);
            var working = (totalsec * 100) / (9 * 60 * 60);

            console.log("diffrence time", Math.floor(working));

            // document.getElementById('GFG').innerHTML= Math.floor(working);
          
            var g = document.createElement("progress");

            // Set the value of progress element
            g.setAttribute("value",`${working}`);


            // Set the maximum value of progress element
            g.setAttribute("max", "100");

            // Get the value of progress element
            document.getElementById("GFG").appendChild(g);

            
        }

//     }
// }
    </script>